@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: #F5F5F5;
    --foreground: #000000;
    --primary: #000000;
    --primary-foreground: #FFFFFF;
    --secondary: #F5F5F5;
    --secondary-foreground: #000000;
    --accent: #4F46E5; /* Darker indigo for WCAG AA compliance */
    --accent-foreground: #FFFFFF;
    --muted: #F8FAFC;
    --muted-foreground: #475569; /* Darker slate for WCAG AA compliance */
    --border: rgba(0, 0, 0, 0.15); /* Dark border for better visibility */
    --card: #FFFFFF;
    --card-foreground: #000000;
  }

  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  html {
    scroll-behavior: smooth;
  }

  /* Пользовательские утилиты */
  .container-custom {
    @apply max-w-[1350px] mx-auto px-4 sm:px-6 md:px-8 lg:px-12 xl:px-[60px];
  }

  .glass-effect {
    background: rgba(245, 245, 245, 0.2);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
  }

  .gradient-radial {
    background: radial-gradient(circle, rgba(255, 255, 255, 0) 0%, rgba(255, 255, 255, 1) 100%);
  }

  /* Система типографики AIronLab */
  /* Главные заголовки (Hero, основные секции) */
  .text-responsive-h1 {
    @apply text-4xl md:text-5xl lg:text-6xl font-bold;
  }

  /* Подзаголовки секций */
  .text-responsive-h2 {
    @apply text-3xl md:text-4xl lg:text-5xl font-bold;
  }

  /* Заголовки карточек, элементов */
  .text-responsive-h3 {
    @apply text-xl md:text-2xl lg:text-3xl font-bold;
  }

  /* Мелкие заголовки */
  .text-responsive-h4 {
    @apply text-lg md:text-xl font-bold;
  }

  /* Основной текст */
  .text-responsive-body {
    @apply text-base md:text-lg;
  }

  /* Лид-текст (важные описания) */
  .text-responsive-lead {
    @apply text-lg md:text-xl;
  }

  /* Анимации для admin login page */
  @keyframes blob {
    0% {
      transform: translate(0px, 0px) scale(1);
    }
    33% {
      transform: translate(30px, -50px) scale(1.1);
    }
    66% {
      transform: translate(-20px, 20px) scale(0.9);
    }
    100% {
      transform: translate(0px, 0px) scale(1);
    }
  }

  .animate-blob {
    animation: blob 7s infinite;
  }

  .animation-delay-2000 {
    animation-delay: 2s;
  }

  .animation-delay-4000 {
    animation-delay: 4s;
  }

  /* Статистика и цифры */
  .text-responsive-stats {
    @apply text-2xl md:text-3xl lg:text-4xl font-bold;
  }

  /* Мелкий текст */
  .text-responsive-small {
    @apply text-sm md:text-base;
  }

  /* Мобильные улучшения */
  .mobile-friendly-button {
    @apply min-h-[48px] min-w-[48px] text-base md:text-lg px-6 py-3 md:px-8 md:py-4;
  }

  .mobile-friendly-touch {
    @apply min-h-[44px] p-3 md:p-4;
  }

  .mobile-safe-spacing {
    @apply px-4 py-8 md:px-8 md:py-12;
  }

  .mobile-text-readable {
    @apply leading-relaxed text-base md:text-lg;
  }

  .spacing-responsive {
    @apply py-12 sm:py-16 md:py-20;
  }

  .grid-responsive-cards {
    @apply grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4;
  }

  .grid-responsive-stats {
    @apply grid-cols-2 sm:grid-cols-4;
  }

  /* Обрезка текста */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Enhanced Blog Typography */
  .prose {
    @apply text-gray-800 leading-relaxed text-lg max-w-none; /* Darker for better contrast */
  }

  /* H2 with accent bar and scroll margin */
  .prose h2 {
    @apply text-3xl md:text-4xl font-bold text-gray-900 mt-12 mb-6;
    @apply border-l-4 border-accent pl-6;
    @apply scroll-mt-24;
    @apply relative;
  }

  .prose h3 {
    @apply text-2xl md:text-3xl font-bold text-gray-900 mt-8 mb-4;
    @apply scroll-mt-24;
  }

  /* Anchor links for headings */
  .prose h2:hover .heading-anchor,
  .prose h3:hover .heading-anchor {
    @apply opacity-100;
  }

  .heading-anchor {
    @apply opacity-0 transition-opacity duration-200;
    @apply absolute -left-6 text-accent/50 hover:text-accent;
  }

  /* Larger paragraphs with better spacing */
  .prose p {
    @apply mb-6 text-gray-800 leading-relaxed text-lg; /* Darker for better contrast */
  }

  /* Styled lists with accent markers */
  .prose ul {
    @apply mb-6 pl-6 space-y-3;
  }

  .prose ol {
    @apply mb-6 pl-6 space-y-3 list-decimal;
  }

  .prose li {
    @apply text-gray-800 leading-relaxed text-lg pl-2; /* Darker for better contrast */
    @apply relative;
  }

  .prose ul li::marker {
    @apply text-accent font-bold;
  }

  .prose ol li::marker {
    @apply text-accent font-bold;
  }

  /* Enhanced blockquote with rounded corners */
  .prose blockquote {
    @apply border-l-4 border-accent pl-6 pr-4 py-4 my-8;
    @apply bg-accent/5 rounded-r-lg;
    @apply italic text-gray-800 text-lg; /* Darker for better contrast */
  }

  /* Inline code with accent styling */
  .prose code {
    @apply bg-gray-100 text-accent px-2 py-1 rounded;
    @apply text-base font-mono;
  }

  /* Code blocks with dark theme */
  .prose pre {
    @apply bg-gray-900 text-gray-100 p-6 rounded-xl overflow-x-auto my-8;
    @apply shadow-lg;
  }

  .prose pre code {
    @apply bg-transparent p-0 text-sm leading-relaxed;
    @apply text-gray-100;
  }

  /* Links with accent color and decorations */
  .prose a {
    @apply text-accent underline decoration-accent/30;
    @apply hover:decoration-accent transition-colors duration-200;
    @apply underline-offset-4;
  }

  /* Images with rounded corners and shadows */
  .prose img {
    @apply rounded-2xl shadow-lg my-8 mx-auto;
    @apply max-w-full h-auto;
  }

  /* Support for image captions */
  .prose figure {
    @apply my-8;
  }

  .prose figcaption {
    @apply text-center text-sm text-gray-500 mt-3 italic;
  }

  /* Horizontal rule */
  .prose hr {
    @apply my-12 border-gray-200;
  }

  /* Strong and emphasis */
  .prose strong {
    @apply text-gray-900 font-bold;
  }

  .prose em {
    @apply text-gray-600 italic;
  }

  /* Tables with accent headers */
  .prose table {
    @apply w-full my-8 border-collapse rounded-xl overflow-hidden;
  }

  .prose th {
    @apply bg-accent/10 text-accent font-bold px-4 py-3 text-left border border-gray-200;
  }

  .prose td {
    @apply px-4 py-3 border border-gray-200 text-gray-800; /* Darker for better contrast */
  }

  .prose tr:nth-child(even) {
    @apply bg-gray-50;
  }

  .prose tbody tr:hover {
    @apply bg-gray-100/50 transition-colors duration-150;
  }

  /* Анимации */
  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float 6s ease-in-out infinite;
    animation-delay: 2s;
  }

  .animate-twinkle {
    animation: twinkle 3s ease-in-out infinite;
  }

  .animate-spin-slow {
    animation: spin-slow 8s linear infinite;
  }

  .animate-spin-in {
    animation: spin-in 0.2s ease-out;
  }

  .animate-slide-down {
    animation: slide-down 0.6s ease-out;
  }

  .animate-slide-up {
    animation: slide-up 0.5s ease-out;
  }

  .animate-scale-in {
    animation: scale-in 0.3s ease-out;
  }

  .animate-fade-in {
    animation: fade-in 0.8s ease-out;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-10px);
    }
  }

  @keyframes twinkle {
    0%, 100% {
      opacity: 0.3;
      transform: scale(1);
    }
    50% {
      opacity: 1;
      transform: scale(1.2);
    }
  }

  @keyframes spin-slow {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  @keyframes spin-in {
    0% {
      transform: rotate(-90deg) scale(0.8);
      opacity: 0;
    }
    100% {
      transform: rotate(0deg) scale(1);
      opacity: 1;
    }
  }

  @keyframes slide-down {
    0% {
      transform: translateY(-100%);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes slide-up {
    0% {
      transform: translateY(20px);
      opacity: 0;
    }
    100% {
      transform: translateY(0);
      opacity: 1;
    }
  }

  @keyframes scale-in {
    0% {
      transform: scale(0.95);
      opacity: 0;
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  @keyframes fade-in {
    0% {
      opacity: 0;
    }
    100% {
      opacity: 1;
    }
  }

  /* Дополнительные анимации для Hero секции */
  .animate-pulse-slow {
    animation: pulse 3s ease-in-out infinite;
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-slide-down,
    .animate-slide-up,
    .animate-scale-in,
    .animate-fade-in,
    .animate-pulse-slow,
    .animate-float,
    .animate-float-delayed,
    .animate-twinkle,
    .animate-spin-slow {
      animation: none;
    }
  }

  /* Кастомные скроллбары */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    background: #f1f1f1;
  }

  ::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
  }

  /* Утилита для скрытия скроллбаров */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* БАЗОВЫЕ НАСТРОЙКИ ДЛЯ МОБИЛЬНЫХ УСТРОЙСТВ */
  html {
    -webkit-text-size-adjust: 100%;
  }

  body {
    -webkit-overflow-scrolling: touch;
  }

  /* ПРОСТАЯ ЗАЩИТА ОТ СЛУЧАЙНЫХ КЛИКОВ НА МОБИЛЬНЫХ */
  @media (max-width: 768px) {
    /* Убираем подсветку при нажатии */
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
    }
    
    /* Блокируем только явно декоративные элементы */
    .non-interactive,
    .animate-float,
    .animate-float-delayed,
    .animate-twinkle,
    .animate-pulse-slow {
      pointer-events: none !important;
      user-select: none !important;
      -webkit-user-select: none !important;
    }
    
    /* Разрешаем выделение текста в полях ввода */
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    textarea {
      user-select: text !important;
      -webkit-user-select: text !important;
    }

    /* Формы должны работать */
    form,
    label {
      pointer-events: auto !important;
    }

    /* Текстовые поля должны быть выделяемыми */
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    textarea {
      user-select: text !important;
      -webkit-user-select: text !important;
    }
  }

  /* БЛОКИРОВКА ТОЛЬКО АНИМИРОВАННЫХ ДЕКОРАТИВНЫХ ЭЛЕМЕНТОВ */
  .non-interactive.animate-float,
  .non-interactive.animate-float-delayed,
  .non-interactive.animate-twinkle,
  .non-interactive.animate-pulse-slow,
  .non-interactive[class*="absolute"] {
    pointer-events: none !important;
    user-select: none !important;
    -webkit-user-select: none !important;
    cursor: default !important;
  }

  /* РАЗРЕШЕННЫЕ ИНТЕРАКТИВНЫЕ ЭЛЕМЕНТЫ */
  [data-clickable="true"] {
    pointer-events: auto !important;
    cursor: pointer !important;
  }

  /* Базовые стили для кликабельных элементов */
  button,
  a,
  [data-clickable="true"],
  [role="button"] {
    cursor: pointer;
  }

  [data-clickable="true"] * {
    pointer-events: auto !important;
  }

  /* WCAG 2.1 AAA Touch Target Utilities (2.5.5) */
  /* Minimum 44x44px touch targets for mobile accessibility */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }

  /* Responsive touch targets: 44px mobile, 36px desktop */
  .touch-target-responsive {
    @apply min-h-[44px] min-w-[44px] md:min-h-[36px] md:min-w-[36px];
  }

  /* Icon button specific: ensures proper padding */
  .touch-target-icon {
    @apply min-h-[44px] min-w-[44px] md:min-h-[40px] md:min-w-[40px] flex items-center justify-center;
  }

  /* Group of touch targets with proper spacing (min 8px) */
  .touch-targets-group {
    @apply flex gap-2; /* 8px minimum spacing */
  }

  /* Mobile-friendly button sizes */
  .mobile-friendly-button {
    @apply min-h-[48px] min-w-[48px] text-base md:text-lg px-6 py-3 md:px-8 md:py-4;
  }

  .mobile-friendly-touch {
    @apply min-h-[44px] p-3 md:p-4;
  }
} 