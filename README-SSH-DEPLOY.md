# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ —Ä–µ–≥.—Ä—É —á–µ—Ä–µ–∑ SSH

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### **–®–∞–≥ 1: –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞**

1. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH:**
```bash
ssh your_username@your_server.hosting.reg.ru
```

2. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å–∞–π—Ç–∞:**
```bash
cd public_html
# –∏–ª–∏ cd www, –∏–ª–∏ cd httpdocs (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ö–æ—Å—Ç–∏–Ω–≥–∞)
```

3. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/Santino42-gr/AIronLab---Frontend.git .
```

4. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js** (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é Node.js
node --version
npm --version

# –ï—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–µ–≥.—Ä—É
# –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Node.js 18+ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥
```

### **–®–∞–≥ 2: –ü–µ—Ä–≤—ã–π –¥–µ–ø–ª–æ–π**

1. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
npm ci
```

2. **–°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:**
```bash
NEXT_PUBLIC_DEPLOY_TARGET=hosting npm run build
```

3. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–µ–Ω—å —Å–∞–π—Ç–∞:**
```bash
cp -r out/* .
```

4. **–û—á–∏—Å—Ç–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
```bash
rm -rf out .next node_modules
```

### **–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è**

1. **–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç `deploy-server.sh`:**
   - –ó–∞–º–µ–Ω–∏—Ç–µ `your_username` –Ω–∞ –≤–∞—à –ª–æ–≥–∏–Ω SSH
   - –ó–∞–º–µ–Ω–∏—Ç–µ `your_server.hosting.reg.ru` –Ω–∞ –≤–∞—à —Ö–æ—Å—Ç
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å–∞–π—Ç–∞

2. **–î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:**
```bash
chmod +x deploy-server.sh
```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH-–∫–ª—é—á–∏** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):
```bash
# –°–æ–∑–¥–∞–π—Ç–µ SSH-–∫–ª—é—á (–µ—Å–ª–∏ –Ω–µ—Ç)
ssh-keygen -t rsa -b 4096 -C "your_email@example.com"

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–ª—é—á –Ω–∞ —Å–µ—Ä–≤–µ—Ä
ssh-copy-id your_username@your_server.hosting.reg.ru
```

## üîÑ –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∞–π—Ç–∞

### **–í–∞—Ä–∏–∞–Ω—Ç A: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (—á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç)**
```bash
./deploy-server.sh
```

### **–í–∞—Ä–∏–∞–Ω—Ç B: –†—É—á–Ω–æ–π (–ø—Ä—è–º–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)**
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh your_username@your_server.hosting.reg.ru

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É —Å–∞–π—Ç–∞
cd public_html

# –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
git pull origin main

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm ci

# –°–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
NEXT_PUBLIC_DEPLOY_TARGET=hosting npm run build

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã
cp -r out/* .

# –û—á–∏—Å—Ç–∏—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
rm -rf out .next node_modules
```

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
ssh your_username@your_server.hosting.reg.ru "cd public_html && pwd && ls -la"
```

### **–ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:**
```bash
ssh your_username@your_server.hosting.reg.ru "cd public_html && tail -f error.log"
```

### **–ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ —Å–±–æ—Ä–∫–∏:**
```bash
ssh your_username@your_server.hosting.reg.ru "cd public_html && git pull origin main"
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .htaccess (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.htaccess` –≤ –∫–æ—Ä–Ω–µ —Å–∞–π—Ç–∞:
```apache
RewriteEngine On

# –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ index.html –¥–ª—è SPA
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^.*$ /index.html [L]

# –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
<FilesMatch "\.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2)$">
    ExpiresActive On
    ExpiresDefault "access plus 1 year"
</FilesMatch>
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Node.js 18+**
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ —Å–∞–π—Ç–∞**
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `NEXT_PUBLIC_DEPLOY_TARGET=hosting` –ø—Ä–∏ —Å–±–æ—Ä–∫–µ**
4. **–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –æ—á–∏—â–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è**

## üéØ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```
public_html/
‚îú‚îÄ‚îÄ index.html          ‚Üê –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îú‚îÄ‚îÄ 404.html           ‚Üê –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—à–∏–±–∫–∏
‚îú‚îÄ‚îÄ _next/             ‚Üê JS/CSS —Ñ–∞–π–ª—ã Next.js
‚îú‚îÄ‚îÄ images/            ‚Üê –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ fonts/             ‚Üê –®—Ä–∏—Ñ—Ç—ã
‚îú‚îÄ‚îÄ .git/              ‚Üê Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
‚îú‚îÄ‚îÄ src/               ‚Üê –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ (–≤—Ä–µ–º–µ–Ω–Ω–æ)
‚îú‚îÄ‚îÄ package.json       ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è npm (–≤—Ä–µ–º–µ–Ω–Ω–æ)
‚îî‚îÄ‚îÄ next.config.mjs    ‚Üê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Next.js (–≤—Ä–µ–º–µ–Ω–Ω–æ)
```

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### **–û—à–∏–±–∫–∞ "node: command not found"**
–û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É —Ä–µ–≥.—Ä—É –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Node.js

### **–û—à–∏–±–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª–∞–º**
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:
```bash
chmod 755 public_html
chmod 644 public_html/*
```

### **–°–∞–π—Ç –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è**
–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞ (Ctrl+F5) –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ. 